<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="fa" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Private Routes in React" />
<meta property="og:locale" content="fa" />
<meta name="description" content="چطور Private Route را در React پیاده سازی کنیم؟" />
<meta property="og:description" content="چطور Private Route را در React پیاده سازی کنیم؟" />
<link rel="canonical" href="http://localhost:4000/posts/PrivateRoutesReact/" />
<meta property="og:url" content="http://localhost:4000/posts/PrivateRoutesReact/" />
<meta property="og:site_name" content="تیله" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-03-26T00:00:00+03:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Private Routes in React" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-03-26T00:00:00+03:30","datePublished":"2024-03-26T00:00:00+03:30","description":"چطور Private Route را در React پیاده سازی کنیم؟","headline":"Private Routes in React","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/PrivateRoutesReact/"},"url":"http://localhost:4000/posts/PrivateRoutesReact/"}</script>
<!-- End Jekyll SEO tag -->


  <title>Private Routes in React | تیله
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="تیله">
<meta name="application-name" content="تیله">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/20231222_203934.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">تیله</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">In The Blue Marble</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>خانه</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>دسته بندی ها</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>برچسب ها</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>آرشیو</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>درباره</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/fomid8"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['fati.omid2000','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                خانه
              </a>
            </span>

          
        
          
        
          
            
              <span>Private Routes in React</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      پست
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="جستجو..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">لغو</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    

    
  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>Private Routes in React</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        ارسال شده
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1711398600"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Mar 26, 2024
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          توسط

          <em>
            
              <a href="https://github.com/fomid8">فاطمه امیدی</a>
            
          </em>
        </span>

        <!-- read time -->
        <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="725 كلمات"
>
  <em>4 دقيقه</em> </span>

      </div>
      <!-- .d-flex -->
    </div>
    <!-- .post-meta -->
  </header>

  <div class="content">
    <p>چطور Private Route را در React پیاده سازی کنیم؟</p>

<p>در
React
برای ساختن و مدیریت مسیر های کامپوننت ها از
react-router-dom
استفاده می‌کنیم.</p>

<p>گاهی اوقات برای بعضی از صفحات نیاز به احراز هویت داریم. برای اینکار تابعی پیاده سازی می‌کنیم تا تنها اگر کاربر لاگین کرده بود به مسیر مورد نظر دسترسی داشته باشه. در غیر این صورت به صفحه لاگین هدایت بشه.</p>

<h2 id="قدم-1--نصب-و-وارد-کردن-react-router-dom"><span class="me-2">قدم 1 : نصب و وارد کردن react-router-dom</span><a href="#قدم-1--نصب-و-وارد-کردن-react-router-dom" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>اگر<br />
 react-router-dom
رو نصب ندارید با این دستور نصب کنید:</p>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="کپی شد!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>npm <span class="nb">install </span>react-router-dom
</pre></td></tr></tbody></table></code></div></div>

<p>و به این صورت از کامپوننت های اون داخل پروژه استفاده کنید:</p>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="کپی شد!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>import <span class="o">{</span> BrowserRouter, Route, Routes <span class="o">}</span> from <span class="s2">"react-router-dom"</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="قدم-2--پیاده-سازی-تابع"><span class="me-2">قدم 2 : پیاده سازی تابع</span><a href="#قدم-2--پیاده-سازی-تابع" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>نکته ای که اول باید بگم این هست که در نسخه 6 react-router-dom
تغییراتی ایجاد شده.
اول با نسخه 5 رو توضیح میدم و بعدش با نسخه جدیدتر.</p>

<h3 id="اگر-از-react-router-dom-v5-استفاده-میکنید"><span class="me-2">اگر از react-router-dom V5 استفاده میکنید</span><a href="#اگر-از-react-router-dom-v5-استفاده-میکنید" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>در اینجا سه مسیر به Home ,Dashboard و Login
داریم که مسیر Dashboard خصوصی است.</p>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="کپی شد!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre>// App.js
import React, <span class="o">{</span> useState <span class="o">}</span> from <span class="s1">'react'</span><span class="p">;</span>
import <span class="o">{</span> BrowserRouter as Router, Route, Switch <span class="o">}</span> from <span class="s1">'react-router-dom'</span><span class="p">;</span>
import PrivateRoute from <span class="s1">'./PrivateRoute'</span><span class="p">;</span>
import Home from <span class="s1">'./Home'</span><span class="p">;</span>
import Dashboard from <span class="s1">'./Dashboard'</span><span class="p">;</span>
import Login from <span class="s1">'./Login'</span><span class="p">;</span>

const App <span class="o">=</span> <span class="o">()</span> <span class="o">=&gt;</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span>
    &lt;Router&gt;
      &lt;Switch&gt;
        &lt;Route exact <span class="nv">path</span><span class="o">=</span><span class="s2">"/"</span> <span class="nv">component</span><span class="o">={</span>Home<span class="o">}</span> /&gt;
        &lt;PrivateRoute <span class="nv">path</span><span class="o">=</span><span class="s2">"/dashboard"</span> <span class="nv">component</span><span class="o">={</span>Dashboard<span class="o">}</span>  /&gt;
        &lt;Route <span class="nv">path</span><span class="o">=</span><span class="s2">"/login"</span> <span class="nv">component</span><span class="o">={</span>Login<span class="o">}</span> /&gt;
      &lt;/Switch&gt;
    &lt;/Router&gt;
  <span class="o">)</span><span class="p">;</span>
<span class="o">}</span><span class="p">;</span>

<span class="nb">export </span>default App<span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>در کامپوننت PrivateRoute ،
اگر isAuthenticated = True بود،
به کامپوننت موردنظر می‌رود،
در غیر این صورت به لاگین Redirect می‌کند.</p>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="کپی شد!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre>// PrivateRoute.js
import React from <span class="s1">'react'</span><span class="p">;</span>
import <span class="o">{</span> Route, Redirect <span class="o">}</span> from <span class="s1">'react-router-dom'</span><span class="p">;</span>

const PrivateRoute <span class="o">=</span> <span class="o">({</span> component: Component, ...rest <span class="o">})</span> <span class="o">=&gt;</span> <span class="o">{</span>
  isAuthenticated <span class="o">=</span> //your authenticate method
  <span class="k">return</span> <span class="o">(</span>
    &lt;Route
      <span class="o">{</span>...rest<span class="o">}</span>
      <span class="nv">render</span><span class="o">={(</span>props<span class="o">)</span> <span class="o">=&gt;</span>
        isAuthenticated ? <span class="o">(</span>
          &lt;Component <span class="o">{</span>...props<span class="o">}</span> /&gt;
        <span class="o">)</span> : <span class="o">(</span>
          &lt;Redirect <span class="nv">to</span><span class="o">={</span> pathname: <span class="s1">'/login'</span>, state: <span class="o">{</span> from: props.location <span class="o">}</span> <span class="o">}</span> /&gt;
        <span class="o">)</span>
      <span class="o">}</span>
    /&gt;
  <span class="o">)</span><span class="p">;</span>
<span class="o">}</span><span class="p">;</span>

<span class="nb">export </span>default PrivateRoute<span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="اگر-از-react-router-dom-v6-استفاده-میکنید"><span class="me-2">اگر از react-router-dom V6 استفاده میکنید</span><a href="#اگر-از-react-router-dom-v6-استفاده-میکنید" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>در این نسخه باید روش دیگه ای در پیش بگیریم.
از تغییراتی که باید حواسمون باشه:</p>

<ul>
  <li>به جای Navigate ، Redirect جایگزین شده</li>
  <li>به جای Switch از کامپوننت جدید Routes استفاده میشه</li>
  <li>Route تغییراتی کرده است</li>
</ul>

<p>دیگر نمی‌توانیم یک کامپوننت PrivateRoute از Route بسازیم.
در عوض باید از یک کامپوننت مستقل استفاده کنیم.</p>

<p>کد App.js قبلی به این شکل درمیاد:</p>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="کپی شد!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre>// App.js
import React, <span class="o">{</span> useState <span class="o">}</span> from <span class="s1">'react'</span><span class="p">;</span>
import <span class="o">{</span> BrowserRouter as Router, Route, Routes <span class="o">}</span> from <span class="s1">'react-router-dom'</span><span class="p">;</span>
import PrivateRoute from <span class="s1">'./PrivateRoute'</span><span class="p">;</span>
import Home from <span class="s1">'./Home'</span><span class="p">;</span>
import Dashboard from <span class="s1">'./Dashboard'</span><span class="p">;</span>
import Login from <span class="s1">'./Login'</span><span class="p">;</span>

const App <span class="o">=</span> <span class="o">()</span> <span class="o">=&gt;</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span>
    &lt;Router&gt;
      &lt;Routes&gt;
        &lt;Route exact <span class="nv">path</span><span class="o">=</span><span class="s2">"/"</span> <span class="nv">element</span><span class="o">={</span>&lt;Home /&gt;<span class="o">}</span> /&gt;
        &lt;Route
          <span class="nv">path</span><span class="o">=</span><span class="s2">"/dashboard"</span>
          <span class="nv">element</span><span class="o">={</span>
            &lt;PrivateRoute&gt;
              &lt;Dashboard /&gt;
            &lt;/PrivateRoute&gt;
          <span class="o">}</span>
        /&gt;
        &lt;Route <span class="nv">path</span><span class="o">=</span><span class="s2">"/login"</span> <span class="nv">element</span><span class="o">={</span>&lt;Login /&gt;<span class="o">}</span> /&gt;
      &lt;/Routes&gt;
    &lt;/Router&gt;
  <span class="o">)</span><span class="p">;</span>
<span class="o">}</span><span class="p">;</span>

<span class="nb">export </span>default App<span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="کپی شد!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>// PrivateRoute.js
import React from <span class="s1">'react'</span><span class="p">;</span>
import <span class="o">{</span> Route, Navigate <span class="o">}</span> from <span class="s1">'react-router-dom'</span><span class="p">;</span>

<span class="k">function </span>PrivateRoute<span class="o">({</span> children <span class="o">})</span> <span class="o">{</span>
  isAuthenticated <span class="o">=</span> //your authenticate method
  <span class="k">return </span>isAuthenticated ? &lt;<span class="o">&gt;{</span>children<span class="o">}</span>&lt;/&gt; : &lt;Navigate <span class="nv">to</span><span class="o">=</span><span class="s2">"/login"</span> /&gt;<span class="p">;</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="یک-روش-دیگه"><span class="me-2">یک روش دیگه</span><a href="#یک-روش-دیگه" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>میتونیم هم از Route های تودرتو استفاده کنیم.
برای این روش این Outlet استفاده می‌کنیم.
با اینکار می‌تونیم چندین مسیر شخصی رو زیرمجموعه یک Route قرار بدیم.</p>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="کپی شد!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre>// App.js
import React, <span class="o">{</span> useState <span class="o">}</span> from <span class="s1">'react'</span><span class="p">;</span>
import <span class="o">{</span> BrowserRouter as Router, Route, Routes <span class="o">}</span> from <span class="s1">'react-router-dom'</span><span class="p">;</span>
import PrivateRoute from <span class="s1">'./PrivateRoute'</span><span class="p">;</span>
import Home from <span class="s1">'./Home'</span><span class="p">;</span>
import Dashboard from <span class="s1">'./Dashboard'</span><span class="p">;</span>
import Login from <span class="s1">'./Login'</span><span class="p">;</span>

const App <span class="o">=</span> <span class="o">()</span> <span class="o">=&gt;</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span>
    &lt;Router&gt;
      &lt;Routes&gt;
        &lt;Route exact <span class="nv">path</span><span class="o">=</span><span class="s2">"/"</span> <span class="nv">element</span><span class="o">={</span>&lt;Home /&gt;<span class="o">}</span> /&gt;
        &lt;Route <span class="nv">path</span><span class="o">=</span><span class="s2">"/dashboard"</span> <span class="nv">element</span><span class="o">={</span>&lt;PrivateRoute /&gt;<span class="o">}&gt;</span>
            &lt;Route <span class="nv">element</span><span class="o">={</span>&lt;Dashboard /&gt;<span class="o">}</span>  /&gt;
        &lt;/Route&gt;
        &lt;Route <span class="nv">path</span><span class="o">=</span><span class="s2">"/login"</span> <span class="nv">element</span><span class="o">={</span>&lt;Login /&gt;<span class="o">}</span> /&gt;
      &lt;/Routes&gt;
    &lt;/Router&gt;
  <span class="o">)</span><span class="p">;</span>
<span class="o">}</span><span class="p">;</span>

<span class="nb">export </span>default App<span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="کپی شد!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>// PrivateRoute.js
import React from <span class="s1">'react'</span><span class="p">;</span>
import <span class="o">{</span> Route, Navigateو Outlet <span class="o">}</span> from <span class="s1">'react-router-dom'</span><span class="p">;</span>

<span class="k">function </span>PrivateRoute<span class="o">()</span> <span class="o">{</span>
  isAuthenticated <span class="o">=</span> //your authenticate method
  <span class="k">return </span>isAuthenticated  ? &lt;Outlet /&gt; : &lt;Navigate <span class="nv">to</span><span class="o">=</span><span class="s2">"/login"</span> /&gt;<span class="p">;</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><a href="https://codesandbox.io/p/sandbox/react-router-v6-security-gojb0?">یک مثال کامل</a></p>


  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/%D8%B1%DB%8C-%D8%A7%DA%A9%D8%AA/">ری‌اکت</a>
      </div>
    

    <!-- tags -->
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          این پست دارای مجوز 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         توسط نویسنده است.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">اشتراک گذاری</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=Private%20Routes%20in%20React%20-%20%D8%AA%DB%8C%D9%84%D9%87&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2FPrivateRoutesReact%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=Private%20Routes%20in%20React%20-%20%D8%AA%DB%8C%D9%84%D9%87&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2FPrivateRoutesReact%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2FPrivateRoutesReact%2F&text=Private%20Routes%20in%20React%20-%20%D8%AA%DB%8C%D9%84%D9%87" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="کپی لینک"
      data-title-succeed="پیوند با موفقیت کپی شد!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">اخیرا به روز شده</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/PrivateRoutesReact/">Private Routes in React</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/ghol/">مرور بر غول مدفون</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/tars/">بی عنوان سوم</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/baft/">بی عنوان دوم</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/angor/">بی عنوان اول</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->


















            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">مطالب</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  
    











            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/ghol/"
      class="btn btn-outline-primary"
      aria-label="قدیمی تر"
    >
      <p>مرور بر غول مدفون</p>
    </a>
  

  
    <div class="btn btn-outline-primary disabled" aria-label="جدید تر">
      <p>-</p>
    </div>
  
</nav>

            
              
              <!--  The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>
    ©
    <time>2024</time>
    <a href="https://github.com/fomid8">فاطمه امیدی</a>.
    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="به جز مواردی که ذکر شده‌اند، پست های وبلاگ در این سایت تحت مجوز  Creative Commons Attribution 4.0 International (CC BY 4.0)  .توسط نویسنده هستند "
      >برخی از حقوق محفوظ است</span>
    
  </p>

  <p><a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> برای <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> استفاده از تم
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->


















    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">نسخه جدیدی از محتوا در دسترس است.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      به روز رسانی
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/fa.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

